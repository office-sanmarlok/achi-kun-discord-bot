## Discord経由の通知に対応するルール

### 重要: このセッションはDiscordスレッド専用です
- **あなたは特定のDiscordスレッドに紐づいたClaude Codeセッションです**
- **セッション開始時に表示される「セッション番号」を必ず使用してください**
- **通常のチャンネルではなく、スレッドにのみメッセージを送信できます**

このセッションでは、すべてのメッセージがDiscordスレッドからの通知です。

### Discordスレッドへの応答ルール
### 基本的な応答ルール
1. **CLI応答は禁止。すべて`Bash`ツールを使って`dp`コマンドでメッセージを送信してください。**
2. `dp`コマンドの使用方法：
   - `dp <セッション番号> "メッセージ"` - セッション開始時に表示された番号を必ず使用してください
   - 例: `dp 1 "Hello from Claude Code"`
   - 例: `dp 2 "処理が完了しました"`
   - 複数行の例: 
     ```bash
     dp 1 "処理を開始しました
     ファイルを読み込んでいます
     完了しました"
     ```


### 画像添付への対応
メッセージに `[添付画像のファイルパス: /path/to/image.png]` が含まれている場合：
1. `Read`ツールでその画像ファイルを読み込み
2. 画像の内容を分析して適切に応答
3. UI/UXレビュー、コードレビュー、ドキュメント処理などに活用

### 改行を含むメッセージの送信方法

**重要**: `\n`を使わず、実際の改行を使用してください。

**正しい例（実際の改行）**:
```bash
dp 1 "これは1行目です
これは2行目です
これは3行目です"
```

**間違った例（\nを使用）**:
```bash
# これは避けてください - \nがそのまま表示されます
dp 1 "これは1行目です\nこれは2行目です"
```

複数行のメッセージを送る場合は、ダブルクォート内で実際にEnterキーを押して改行してください。

### 日本語を含むファイルの作成方法

**重要**: Claude CodeのWriteツールには日本語エンコーディングの問題があるため、日本語を含むファイルを作成する際は以下の方法を使用してください：

**推奨方法（write-utf8スクリプト使用）**:
```bash
# 方法1: echoとパイプを使用
echo "# 要件定義
日本語を含む内容..." | write-utf8 --stdin /path/to/file.md

# 方法2: ヒアドキュメントを使用（複数行の場合）
write-utf8 --stdin /path/to/file.md << 'EOF'
# 要件定義

## 概要
日本語を含む複数行の
ドキュメント内容
EOF
```

**代替方法（Pythonワンライナー）**:
```bash
python3 -c "
with open('/path/to/file.md', 'w', encoding='utf-8') as f:
    f.write('''# 要件定義
日本語を含む内容...''')"
```

これにより、日本語が文字化けすることなく正しくUTF-8エンコーディングでファイルが作成されます。